<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin – Gestión de Usuarios</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin-styles.css') }}">
  <script defer src="{{ url_for('static', filename='js/admin.js') }}"></script>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-header">
      <img src="{{ url_for('static', filename='img/profile.png') }}" alt="Foto de perfil">
      <h3>Bienvenido, Admin</h3>
    </div>
    <nav class="menu">
      <button class="menu-btn active" data-content="roles">Gestión de Roles</button>
      <button class="menu-btn" data-content="usuarios">Administración de Usuarios</button>
      <button class="menu-btn" data-content="seguros">Gestión de Seguros</button>
    </nav>
    <a id="salir" href="{{ url_for('logout') }}" class="btn btn-secondary">Cerrar Sesión</a>
  </div>

  <div class="main-content">
    <header class="header">
      <h1 id="content-title">Gestión de Roles</h1>
      <div class="user-info">
        <img src="{{ url_for('static', filename='img/profile-small.png') }}" alt="Foto de perfil pequeña">
        <span>Administrador</span>
      </div>
    </header>

    <section id="dynamic-content">
      <!-- Gestión de Roles -->
      <div class="content-section active" id="roles-content">
        <p>Administración de roles y permisos.</p>
        <!-- ... contenido de roles ... -->
      </div>

      <!-- Administración de Usuarios -->
      <div class="content-section" id="usuarios-content">
        <button id="btn-new-user" class="btn btn-primary">Crear usuario</button>
        <table class="table" id="users-table">
          <thead>
            <tr>
              <th>ID</th><th>Usuario</th><th>Email</th><th>Rol</th><th>Acciones</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <!-- Gestión de Seguros -->
      <div class="content-section" id="seguros-content">
        <p>Administración de pólizas y coberturas.</p>
        <!-- ... contenido de seguros ... -->
      </div>
    </section>
  </div>

  <!-- Modal de Confirmación -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <h2 id="modal-title">Confirmación</h2>
      <p id="modal-message">¿Estás seguro?</p>
      <button id="modal-confirm" class="btn btn-danger">Confirmar</button>
      <button id="modal-cancel" class="btn btn-secondary">Cancelar</button>
    </div>
  </div>

  <!-- Modal Crear/Editar Usuario -->
  <div id="user-modal" class="modal hidden">
    <div class="modal-content">
      <h2 id="user-modal-title">Crear Usuario</h2>
      <form id="user-form">
        <div class="form-group">
          <label for="u-username">Usuario</label>
          <input type="text" id="u-username" name="username" required>
        </div>
        <div class="form-group">
          <label for="u-email">Email</label>
          <input type="email" id="u-email" name="email" required>
        </div>
        <div class="form-group">
          <label for="u-password">Contraseña</label>
          <input type="password" id="u-password" name="password" required>
        </div>
        <div class="form-group">
          <label for="u-role">Rol</label>
          <select id="u-role" name="role_id">
            <option value="1">Admin</option>
            <option value="2">Agente</option>
            <option value="3">Cliente</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Guardar</button>
        <button type="button" id="user-modal-cancel" class="btn btn-secondary">Cancelar</button>
      </form>
    </div>
  </div>
</body>
</html>